# การสะท้อนคิด สัปดาห์ที่ 4: Layered Architecture

## 1. สิ่งที่เรียนรู้

จากการทำ Lab สัปดาห์ที่ 4 ได้เรียนรู้แนวคิดของ **Layered Architecture (3-Tier Architecture)** และเข้าใจความสำคัญของการแยกความรับผิดชอบของโค้ดออกเป็นแต่ละชั้น ได้แก่ Presentation Layer, Business Logic Layer และ Data Access Layer ซึ่งช่วยให้โครงสร้างของระบบชัดเจนและเป็นระบบมากขึ้นเมื่อเทียบกับการเขียนแบบ Monolithic

---

## 2. ข้อดีที่พบจากการทำจริง

ข้อดีที่เห็นได้ชัดจากการลงมือทำจริงคือ โค้ดมีความเป็นระเบียบ อ่านง่าย และเข้าใจได้ง่ายขึ้น การแก้ไขหรือเพิ่มฟีเจอร์สามารถทำได้เฉพาะใน layer ที่เกี่ยวข้องโดยไม่กระทบส่วนอื่นของระบบ นอกจากนี้ยังสามารถทดสอบแต่ละ layer แยกจากกันได้ ทำให้การตรวจสอบความถูกต้องของระบบทำได้ง่ายขึ้น

---

## 3. ความท้าทายที่พบ

ความท้าทายที่พบคือ ในช่วงแรกต้องใช้เวลาในการวางแผนโครงสร้างของโปรเจกต์มากกว่าปกติ และต้องทำความเข้าใจว่า logic ใดควรอยู่ใน layer ใด บางครั้งเกิดความสับสนระหว่าง Controller และ Service  
วิธีแก้ปัญหาคือการอ้างอิงหลักการ Separation of Concerns และค่อย ๆ ปรับโค้ดจนแต่ละ layer มีหน้าที่ชัดเจนมากขึ้น

---

## 4. การจัดโครงสร้างโค้ด

เมื่อเปรียบเทียบกับสัปดาห์ที่ 3 (Monolithic) การแบ่ง layers ช่วยให้การจัดโครงสร้างโค้ดดีขึ้นอย่างชัดเจน โค้ดไม่กระจุกอยู่ในไฟล์เดียว ทำให้ค้นหา แก้ไข และดูแลรักษาได้ง่ายขึ้น รวมถึงลดความเสี่ยงที่การแก้ไขจุดหนึ่งจะส่งผลกระทบต่อทั้งระบบ

---

## 5. เมื่อไหร่ควรใช้ Layered Architecture

Layered Architecture เหมาะสำหรับโปรเจกต์ขนาดกลางถึงขนาดใหญ่ โปรเจกต์ที่มีหลายคนร่วมพัฒนา หรือระบบที่คาดว่าจะมีการเพิ่มฟีเจอร์และแก้ไขในอนาคต เนื่องจากโครงสร้างแบบนี้ช่วยให้ขยายระบบและดูแลรักษาได้ง่ายในระยะยาว

---

## 6. การวิเคราะห์ Trade-offs

### ข้อดี
- โค้ดเป็นระเบียบและอ่านง่าย
- ดูแลรักษาและแก้ไขง่าย
- รองรับการทำงานเป็นทีมได้ดี
- สามารถทดสอบแต่ละ layer แยกกันได้

### ข้อเสีย
- โครงสร้างซับซ้อนกว่าการเขียนแบบ Monolithic
- ใช้เวลาในการพัฒนาและวางแผนมากขึ้น
- อาจเป็นการ over-engineering สำหรับโปรเจกต์เล็ก

### การประเมินโดยรวม

โดยรวมแล้ว Layered Architecture เป็นสถาปัตยกรรมที่คุ้มค่าสำหรับโปรเจกต์ที่ต้องการความยืดหยุ่นและการดูแลรักษาในระยะยาว แม้จะมีความซับซ้อนเพิ่มขึ้น แต่ข้อดีที่ได้รับมีมากกว่าข้อเสีย โดยเฉพาะเมื่อระบบมีการขยายในอนาคต
